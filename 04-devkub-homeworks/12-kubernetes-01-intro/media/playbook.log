$ time ansible-playbook -i yc_inventory.yml playbook.yml
[WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

PLAY [Create instance] ******************************************************************************************************************************************************************************************

TASK [Gathering Facts] ******************************************************************************************************************************************************************************************
ok: [localhost]

TASK [create-vm : Create netology121-vm1] ***********************************************************************************************************************************************************************
changed: [localhost]

TASK [create-vm : Refresh Inventory] ****************************************************************************************************************************************************************************

PLAY [Wait for instance to become available] ********************************************************************************************************************************************************************

TASK [wait-vm : Wait for system to become reachable] ************************************************************************************************************************************************************
ok: [netology121-vm1]

PLAY [Run hello node in minikube] *******************************************************************************************************************************************************************************

TASK [Gathering Facts] ******************************************************************************************************************************************************************************************
ok: [netology121-vm1]

TASK [install-kuber : Installing necessary packages] ************************************************************************************************************************************************************
changed: [netology121-vm1] => (item=conntrack)
changed: [netology121-vm1] => (item=docker.io)
ok: [netology121-vm1] => (item=iproute2)
changed: [netology121-vm1] => (item=socat)

TASK [install-kuber : Get kube version] *************************************************************************************************************************************************************************
ok: [netology121-vm1]

TASK [install-kuber : Download kubectl] *************************************************************************************************************************************************************************
changed: [netology121-vm1]

TASK [install-kuber : Download minikube] ************************************************************************************************************************************************************************
changed: [netology121-vm1]

TASK [install-kuber : Check Kuber version] **********************************************************************************************************************************************************************
ok: [netology121-vm1]

TASK [install-kuber : Print minikube version] *******************************************************************************************************************************************************************
ok: [netology121-vm1] => {
    "check_minikube_version.stdout_lines": [
        "minikube version: v1.25.2",
        "commit: 362d5fdc0a3dbee389b3d3f1034e8023e72bd3a7"
    ]
}

TASK [install-kuber : Check if minikube is running] *************************************************************************************************************************************************************
ok: [netology121-vm1]

TASK [install-kuber : Run minikube] *****************************************************************************************************************************************************************************
changed: [netology121-vm1]

TASK [install-kuber : Get minikube status] **********************************************************************************************************************************************************************
ok: [netology121-vm1]

TASK [install-kuber : Print minikube status] ********************************************************************************************************************************************************************
ok: [netology121-vm1] => {
    "get_minikube_status.stdout_lines": [
        "minikube",
        "type: Control Plane",
        "host: Running",
        "kubelet: Running",
        "apiserver: Running",
        "kubeconfig: Configured"
    ]
}

TASK [install-kuber : Get kubectl pods] *************************************************************************************************************************************************************************
ok: [netology121-vm1]

TASK [install-kuber : Print kubectl pods] ***********************************************************************************************************************************************************************
ok: [netology121-vm1] => {
    "get_pods.stdout_lines": [
        "NAME                                      READY   STATUS    RESTARTS   AGE",
        "etcd-netology121-vm1                      0/1     Running   0          6s",
        "kube-apiserver-netology121-vm1            1/1     Running   0          6s",
        "kube-controller-manager-netology121-vm1   1/1     Running   0          6s",
        "kube-scheduler-netology121-vm1            1/1     Running   0          6s",
        "storage-provisioner                       0/1     Pending   0          3s"
    ]
}

TASK [run-hello-node : Check if hello-node is deployed] *********************************************************************************************************************************************************
ok: [netology121-vm1]

TASK [run-hello-node : Deploy hello-node] ***********************************************************************************************************************************************************************
changed: [netology121-vm1]

TASK [run-hello-node : Check if hello-node is exposed] **********************************************************************************************************************************************************
ok: [netology121-vm1]

TASK [run-hello-node : Expose hello-node] ***********************************************************************************************************************************************************************
changed: [netology121-vm1]

TASK [run-hello-node : Minikube service hello-node] *************************************************************************************************************************************************************
changed: [netology121-vm1]

TASK [run-hello-node : Check if dashboard is enabled] ***********************************************************************************************************************************************************
ok: [netology121-vm1]

TASK [run-hello-node : Enable minikube addon dashboard] *********************************************************************************************************************************************************
changed: [netology121-vm1]

TASK [run-hello-node : Check if metrics-server is enabled] ******************************************************************************************************************************************************
ok: [netology121-vm1]

TASK [run-hello-node : Enable minikube addon metrics-server] ****************************************************************************************************************************************************
changed: [netology121-vm1]

TASK [run-hello-node : Check if ingress is enabled] *************************************************************************************************************************************************************
ok: [netology121-vm1]

TASK [run-hello-node : Enable minikube addon ingress] ***********************************************************************************************************************************************************
changed: [netology121-vm1]

TASK [run-hello-node : Check if hello node port forwarded] ******************************************************************************************************************************************************
ok: [netology121-vm1]

TASK [run-hello-node : Forward hello node port] *****************************************************************************************************************************************************************
changed: [netology121-vm1]

TASK [run-hello-node : Check if proxy is running] ***************************************************************************************************************************************************************
ok: [netology121-vm1]

TASK [run-hello-node : Run kubectl proxy to view dashboard] *****************************************************************************************************************************************************
changed: [netology121-vm1]

TASK [run-hello-node : Echo dashboard link] *********************************************************************************************************************************************************************
ok: [netology121-vm1] => {
    "msg": "http://51.250.11.80:8001/api/v1/namespaces/kubernetes-dashboard/services/http:kubernetes-dashboard:/proxy/"
}

PLAY RECAP ******************************************************************************************************************************************************************************************************
localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
netology121-vm1            : ok=30   changed=12   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0


real    4m17.041s
user    0m23.786s
sys     0m2.613s
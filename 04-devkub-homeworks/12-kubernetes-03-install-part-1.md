# Домашнее задание к занятию "12.3 Развертывание кластера на собственных серверах, лекция 1"

> Поработав с персональным кластером, можно заняться проектами. Вам пришла задача подготовить кластер под новый проект.

## Задание 1: Описать требования к кластеру
> Сначала проекту необходимо определить требуемые ресурсы. Известно, что проекту нужны база данных, система кеширования, а само приложение состоит из бекенда и фронтенда. Опишите, какие ресурсы нужны, если известно:
> 
> * База данных должна быть отказоустойчивой. Потребляет 4 ГБ ОЗУ в работе, 1 ядро. 3 копии.
> * Кэш должен быть отказоустойчивый. Потребляет 4 ГБ ОЗУ в работе, 1 ядро. 3 копии.
> * Фронтенд обрабатывает внешние запросы быстро, отдавая статику. Потребляет не более 50 МБ ОЗУ на каждый экземпляр, 0.2 ядра. 5 копий.
> * Бекенд потребляет 600 МБ ОЗУ и по 1 ядру на копию. 10 копий.
>
> <details><summary>Как оформить ДЗ?</summary>
> 
> Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.
> 
> План расчета
> 1. Сначала сделайте расчет всех необходимых ресурсов.
> 2. Затем прикиньте количество рабочих нод, которые справятся с такой нагрузкой.
> 3. Добавьте к полученным цифрам запас, который учитывает выход из строя как минимум одной ноды.
> 4. Добавьте служебные ресурсы к нодам. Помните, что для разных типов нод требовния к ресурсам разные.
> 5. Рассчитайте итоговые цифры.
> 6. В результате должно быть указано количество нод и их параметры.

</details>

Я посчитал нагрузку для физических серверов. Для простоты посчитал только минимальную конфигурацию, чтобы построить отказоустойчивый кластер. Потребуется три сервера, на каждом разместятся одна контрол и одна воркер нода.

* Вводные по нагрузке следующие:

    ![1](./media/12-3-%D0%BD%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0.png)

* Требования к серверам получатся такие:

    ![2](./media/12-3-%D0%B8%D1%82%D0%BE%D0%B3%D0%BE.png)

Итог: потребуется три сервера, на каждом должно быть 16 ядер и 24ГБ ОЗУ.

